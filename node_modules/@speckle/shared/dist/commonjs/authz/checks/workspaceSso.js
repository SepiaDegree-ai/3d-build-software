"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.requireValidWorkspaceSsoSession = void 0;
const requireValidWorkspaceSsoSession = ({ loaders }) => async (args) => {
    const { userId, workspaceId } = args;
    const workspaceSsoSession = await loaders.getWorkspaceSsoSession({
        userId,
        workspaceId
    });
    const isExpiredSession = new Date().getTime() > (workspaceSsoSession?.validUntil?.getTime() ?? 0);
    return !!workspaceSsoSession && !isExpiredSession;
};
exports.requireValidWorkspaceSsoSession = requireValidWorkspaceSsoSession;
//# sourceMappingURL=workspaceSso.js.map